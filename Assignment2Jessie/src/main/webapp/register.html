<!DOCTYPE html>
<html>
	<head>
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
		<meta content="en-ie" http-equiv="Content-Language">
		<title>Assignment 2 DSS & Web Tech</title>
		<script src="js/resources/jquery-1.7.1.min.js" type="text/javascript"></script>
		<link href="css/myStylesheet.css" rel="stylesheet" type="text/css">
		<script src="js/app.js" type="text/javascript"></script>
		<script src="js/login.js" type="text/javascript"></script>
		<link rel="icon" type="image/ico" href="images/titleIco.ico">
		<script>
		
			function addButtonListeners(){
				var registerButton = document.getElementById("registerButton");
				registerButton.addEventListener("click", function(){ register(); }, false);
				var cancelButton = document.getElementById("cancelButton");
				cancelButton.addEventListener("click", function(){ cancel(); }, false);
				loginLogout();
			}

			function register(){
				$("#info").text("");
				if(document.getElementById("name").value == ""){
					$("#info").text("You may not leave name field blank!"); 
					return;	
				}
				if(document.getElementById("password").value == ""){
					$("#info").text("You may not leave password field blank!");
					return;
				}
				if(document.getElementById("passwordRetype").value == ""){
					$("#info").text("You may not leave password field blank!");
					return;
				}
				var tempName = document.getElementById("name").value;
				if(hasNumbers(tempName)){
					$("#info").text("name may not contain numbers");
					return;
				}
				else{	
					var name = document.getElementById("name").value;
					var password = document.getElementById("password").value;
					if(document.getElementById("password").value == document.getElementById("passwordRetype").value){
						$("#validate-status").text("");
						var memberData = {
								"name":document.getElementById("name").value,
								"password":document.getElementById("password").value
							};
						$("#info").text("registering member");
						registerMember(memberData);
						if(document.getElementById("info").value == "member registered"){
							cancel();
						}
					}
				}
			}

			function cancel(){
				document.getElementById("name").value = "";
				document.getElementById("password").value = "";
				document.getElementById("passwordRetype").value = "";
				$("#info").text("");
			}

			function hasNumbers(name){
				var result = name.search(/[0-9]/);
				if(result != -1){
					return true;
				}
				return false;
			}
			
		</script>
	</head>
	
	<body class="body" onload="addButtonListeners()">
		<p class="logging"><div id="loginLogout" onclick="logout()"></div><a href="register.html">Register</a></p>
		<p id="heading">Assignment 2 - Jessica Ryan C08417024</p>
		<p id="welcome" class="heading">To Do List Assignment 2 DSS and Web Tech</p>
		<p id="heading" class = "heading">Register User</p>
		<form class="form" id="myForm">
			<label id="formLabel">Please enter your name: </label>
			<input id="name" name="name" type="text" placeholder="name" required="required"><br><br>
			<label id="formLabel">Please enter your password: </label>
			<input id="password" name="password" type="password"  placeholder="******" required="required"><br><br>
			<label id="formLabel">Please re-enter your password: </label>
			<input id="passwordRetype" name="passwordRetype" type="password"  placeholder="******" required="required"><br><br>
			<p id="validate-status"> </p>
			<input id="registerButton" name="register" type="button" value="Register" class="button">
			<input id="cancelButton" name="cancel" type="button" value="Cancel" class="button">
			<p id="info"></p>
		</form>
		<p id="navigation"><a href="index.html">Home</a></p>
	</body>
</html>